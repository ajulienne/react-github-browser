(this["webpackJsonpgithub-browser"]=this["webpackJsonpgithub-browser"]||[]).push([[0],{115:function(e,a,t){},117:function(e,a,t){},118:function(e,a,t){},119:function(e,a,t){},120:function(e,a,t){},414:function(e,a,t){},415:function(e,a,t){},416:function(e,a,t){},417:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),l=t(34),c=t.n(l),o=t(8),s=t(12),i=t(79),u=t(80),m=t(21),p=t(22),d=t(13),h=t(14),E=t(16),g=t(15),f=t(17),b=t(10),v=t.n(b),y=t(48),N=t.n(y),O=t(81),w=Object(O.setupCache)({maxAge:9e5,exclude:{query:!1}}),j=N.a.create({baseURL:"https://api.github.com",adapter:w.adapter}),R=function(e){return function(a,t){return v.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a(S()),a(k()),r.next=4,v.a.awrap(a(x(e)));case 4:t().user.error||(a(_()),a(C(e)));case 5:case"end":return r.stop()}}))}},S=function(){return{type:"[STORE] Clear"}},k=function(){return{type:"[USER] Load Data"}},_=function(){return{type:"[REPOSITORIES] Load Data"}},x=function(e){return function(a){var t,r,n,l,c,o,s,i,u,m,p,d,h,E,g;return v.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:return f.prev=0,f.next=3,v.a.awrap(j.get("/users/".concat(e)));case 3:t=f.sent,r=t.data,n=r.login,l=r.name,c=r.type,o=r.company,s=r.location,i=r.blog,u=r.bio,m=r.public_repos,p=r.public_gists,d=r.followers,h=r.following,E=r.avatar_url,g=r.html_url,a({type:"[USER] Fetch Data",payload:{login:n,type:c,name:l,company:o,location:s,blog:i,bio:u,public_repos:m,public_gists:p,followers:d,following:h,avatar_url:E,html_url:g}}),f.next=11;break;case 8:f.prev=8,f.t0=f.catch(0),a({type:"[USER] Fetch User Data Error",payload:f.t0.response});case 11:case"end":return f.stop()}}),null,null,[[0,8]])}},C=function(e){return function(a){var t,r;return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,v.a.awrap(j.get("/users/".concat(e,"/repos"),{params:{sort:"updated",direction:"DESC"}}));case 3:t=n.sent,r=t.data.map((function(e){return{name:e.name,html_url:e.html_url,description:e.description,fork:e.fork,language:e.language,forks_count:e.forks_count}})),a({type:"[REPOSITORIES] Fetch Repositories",payload:r}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),a({type:"[REPOSITORIES] Fetch Repositories Error",payload:n.t0.response});case 11:case"end":return n.stop()}}),null,null,[[0,8]])}},I=function(e,a){return function(t){var r,n,l,c,o,s,i,u,m,p,d,h,E,g,f,b,y;return v.a.async((function(N){for(;;)switch(N.prev=N.next){case 0:return t(S()),t({type:"[REPOSITORY] Load Data"}),N.prev=2,N.next=5,v.a.awrap(j.get("/repos/".concat(e,"/").concat(a)));case 5:return r=N.sent,N.next=8,v.a.awrap(j.get("/repos/".concat(e,"/").concat(a,"/readme")));case 8:n=N.sent,l=r.data,c=l.name,o=l.full_name,s=l.html_url,i=l.owner,u=l.description,m=l.fork,p=l.ssh_url,d=l.git_url,h=l.clone_url,E=l.homepage,g=l.license,f=l.subscribers_count,b=l.language,y=l.forks_count,t({type:"[REPOSITORY] Fetch Repository",payload:{name:c,full_name:o,html_url:s,owner:i,description:u,fork:m,ssh_url:p,git_url:d,clone_url:h,homepage:E,license:g,subscribers_count:f,language:b,forks_count:y,readme:n.data.content}}),N.next=16;break;case 13:N.prev=13,N.t0=N.catch(2),t({type:"[REPOSITORY] Fetch Repository Error",payload:N.t0.response});case 16:case"end":return N.stop()}}),null,null,[[2,13]])}},F=(t(115),function(e){function a(){var e,t;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(t=Object(E.a)(this,(e=Object(g.a)(a)).call.apply(e,[this].concat(n)))).state={query:null,redirect:null},t.handleQueryChange=function(e){t.setState({query:e.target.value})},t.handleSearch=function(e){if(e.preventDefault(),t.state.query){var a=t.state.query.split("/");2!==a.length||a[1]||a.pop(),a.length>2||(2===a.length?t.setState({redirect:"/".concat(a[0],"/").concat(a[1])}):t.setState({redirect:"/".concat(a[0])}))}},t}return Object(f.a)(a,e),Object(h.a)(a,[{key:"render",value:function(){return n.a.createElement(r.Fragment,null,this.state.redirect&&n.a.createElement(p.a,{to:this.state.redirect}),n.a.createElement("form",{className:"search-bar",onSubmit:this.handleSearch},n.a.createElement("div",{className:"field has-addons"},n.a.createElement("div",{className:"control has-icons-left is-expanded"},n.a.createElement("input",{type:"text",className:"input is-large",placeholder:"e.g. github or reduxjs/redux",onChange:this.handleQueryChange}),n.a.createElement("span",{className:"icon is-medium is-left"},n.a.createElement("i",{className:"fab fa-github fa-lg"}))),n.a.createElement("div",{className:"control"},n.a.createElement("input",{className:"button is-large is-primary",type:"submit",value:"Search"})))))}}]),a}(n.a.Component)),D={searchProfile:function(e){return R(e)},searchRepository:function(e,a){return I(e,a)}},P=Object(o.b)(null,D)(F),T=function(e){for(var a=0,t=0;t<e.length;t++)a=e.toLowerCase().charCodeAt(t)+((a<<5)-a);for(var r="#",n=0;n<3;n++){r+=("00"+(a>>8*n&255).toString(16)).substr(-2)}return r},L=function(e){return"#"===e.slice(0,1)&&(e=e.slice(1)),(299*parseInt(e.substr(0,2),16)+587*parseInt(e.substr(2,2),16)+114*parseInt(e.substr(4,2),16))/1e3>=128?"black":"white"};var U=Object(p.g)((function(e){var a={backgroundColor:T(e.data.language||"other"),color:L(T(e.data.language||"other"))};return n.a.createElement("div",{className:"tile is-parent is-6 is-vertical"},n.a.createElement("div",{className:"tile is-child box"},n.a.createElement("article",{className:"media"},n.a.createElement("div",{className:"media-content"},n.a.createElement("div",{className:"content"},n.a.createElement("p",null,n.a.createElement("strong",null,n.a.createElement(m.b,{to:e.location.pathname+"/"+e.data.name},e.data.name)),n.a.createElement("br",null),e.data.description)),n.a.createElement("nav",{className:"level is-desktop"},n.a.createElement("div",{className:"level-left"},n.a.createElement("span",{className:"level-item tag",style:a},e.data.language||"Other"),e.data.forks_count>0&&n.a.createElement(r.Fragment,null,n.a.createElement("span",{className:"icon"},n.a.createElement("i",{className:"fas fa-code-branch"})),n.a.createElement("span",{className:"fork-count"},e.data.forks_count))))))))}));t(117);var A=function(e){return n.a.createElement("div",{className:"tile is-ancestor wrap repositories"},e.data.map((function(e,a){return n.a.createElement(U,{key:a,data:e})})))},M=(t(118),["","k","M"]),q=function(e){var a=Math.log10(e)/3|0;if(0===a)return e.toFixed(0).toString();var t=M[a];return(e/Math.pow(10,3*a)).toFixed(0)+t};var Y=function(e){var a=[];return e.data.location&&a.push({icon:"fas fa-map-marker-alt",node:e.data.location}),e.data.company&&a.push({icon:"fas fa-building",node:e.data.company}),e.data.blog&&a.push({icon:"fas fa-link",node:n.a.createElement("a",{href:e.data.blog},e.data.blog)}),n.a.createElement("div",{className:"columns is-desktop user-detail is-vcentered"},n.a.createElement("div",{className:"column is-one-third"},n.a.createElement("div",{className:"columns"},n.a.createElement("div",{className:"column is-one-quarter"},n.a.createElement("img",{className:"avatar",src:e.data.avatar_url,alt:"github avatar"})),n.a.createElement("div",{className:"column"},n.a.createElement("h1",{className:"title"},n.a.createElement("a",{href:e.data.html_url},e.data.name)),n.a.createElement("h2",{className:"subtitle"},e.data.login))),n.a.createElement("div",{className:"content"},n.a.createElement("ul",{className:"without-style"},a.map((function(e,a){return n.a.createElement("li",{key:a},n.a.createElement("span",{className:"icon"},n.a.createElement("i",{className:e.icon})),e.node)}))),e.data.blog&&n.a.createElement("p",null,e.data.bio))),n.a.createElement("div",{className:"column"},n.a.createElement("nav",{className:"level"},n.a.createElement("div",{className:"level-item has-text-centered"},n.a.createElement("div",null,n.a.createElement("p",{className:"heading"},"Repositories"),n.a.createElement("p",{className:"title"},q(e.data.public_repos)))),n.a.createElement("div",{className:"level-item has-text-centered"},n.a.createElement("div",null,n.a.createElement("p",{className:"heading"},"Following"),n.a.createElement("p",{className:"title"},q(e.data.following)))),n.a.createElement("div",{className:"level-item has-text-centered"},n.a.createElement("div",null,n.a.createElement("p",{className:"heading"},"Followers"),n.a.createElement("p",{className:"title"},q(e.data.followers)))),n.a.createElement("div",{className:"level-item has-text-centered"},n.a.createElement("div",null,n.a.createElement("p",{className:"heading"},"Gists"),n.a.createElement("p",{className:"title"},q(e.data.public_gists)))))))},G=function(e){function a(){var e,t;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(t=Object(E.a)(this,(e=Object(g.a)(a)).call.apply(e,[this].concat(n)))).state={},t}return Object(f.a)(a,e),Object(h.a)(a,[{key:"componentDidMount",value:function(){this.props.fetch(this.props.match.params.githubLogin)}},{key:"render",value:function(){return n.a.createElement("div",{className:"user-profile"},this.props.user.data&&n.a.createElement(Y,{data:this.props.user.data}),this.props.repositories.data&&n.a.createElement(A,{data:this.props.repositories.data}))}}]),a}(n.a.Component),H={fetch:function(e){return R(e)}},J=Object(s.compose)(p.g,Object(o.b)((function(e){return e}),H))(G),W=function(){return n.a.createElement("section",{className:"hero"},n.a.createElement("div",{className:"hero-body"},n.a.createElement("div",{className:"container"},n.a.createElement("h1",{className:"title"},"Github browser"),n.a.createElement("h2",{className:"subtitle"},"Search the Github API to look for user, organization or repositories",n.a.createElement("br",null)))))},B=(t(119),function(){return n.a.createElement("footer",{className:"footer"},n.a.createElement("div",{className:"content has-text-centered"},n.a.createElement("p",null,"Made by ",n.a.createElement("a",{href:"https://github.com/ajulienne"},"Antoine Julienne")," with ",n.a.createElement("strong",null,"React")," and ",n.a.createElement("strong",null,"Redux"),".",n.a.createElement("br",null),"View source on ",n.a.createElement("a",{href:"https://github.com/ajulienne/react-github-profiles"},n.a.createElement("span",{className:"icon",style:{position:"relative",top:"3px"}},n.a.createElement("i",{className:"fab fa-github-alt"})),"Github"))))}),Q=(t(120),t(83)),z=t.n(Q),V=t(419),$=t(86),K=function(e){function a(){return Object(d.a)(this,a),Object(E.a)(this,Object(g.a)(a).apply(this,arguments))}return Object(f.a)(a,e),Object(h.a)(a,[{key:"render",value:function(){var e=this.props,a=e.language,t=e.value;return n.a.createElement(V.a,{language:a,style:$.okaidia},t)}}]),a}(r.PureComponent);K.defaultProps={language:null};var X=K,Z=(t(414),function(e){function a(){var e,t;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(t=Object(E.a)(this,(e=Object(g.a)(a)).call.apply(e,[this].concat(n)))).state={dropdownClass:""},t.toggleDropdown=function(){t.setState({dropdownClass:""===t.state.dropdownClass?"is-active":""})},t}return Object(f.a)(a,e),Object(h.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:this.state.dropdownClass+" dropdown is-right"},n.a.createElement("div",{className:"dropdown-trigger"},n.a.createElement("button",{className:"button","aria-haspopup":"true","aria-controls":"dropdown-menu",onClick:this.toggleDropdown},n.a.createElement("span",null,"Clone"),n.a.createElement("span",{className:"icon is-small"},n.a.createElement("i",{className:"fas fa-angle-down","aria-hidden":"true"})))),n.a.createElement("div",{className:"dropdown-menu max-content",id:"dropdown-menu",role:"menu"},n.a.createElement("div",{className:"dropdown-content"},n.a.createElement("div",{className:"dropdown-item"},n.a.createElement("p",null,n.a.createElement("strong",null,"HTTPS")," ",n.a.createElement("code",null,this.props.clone_url))),n.a.createElement("hr",{className:"dropdown-divider"}),n.a.createElement("div",{className:"dropdown-item"},n.a.createElement("p",null,n.a.createElement("strong",null,"SSH")," ",n.a.createElement("code",null,this.props.ssh_url))))))}}]),a}(n.a.Component)),ee=function(e){function a(e){var t,r,n;return Object(d.a)(this,a),(n=Object(E.a)(this,Object(g.a)(a).call(this,e))).state={},n.tagStyle={backgroundColor:T((null===(t=e.repo)||void 0===t?void 0:t.language)||"other"),color:L(T((null===(r=e.repo)||void 0===r?void 0:r.language)||"other"))},n}return Object(f.a)(a,e),Object(h.a)(a,[{key:"componentDidMount",value:function(){this.props.fetch(this.props.match.params.githubLogin,this.props.match.params.repoName)}},{key:"render",value:function(){var e,a;return n.a.createElement(r.Fragment,null,null!==this.props.repo&&n.a.createElement("div",{className:"box repository"},n.a.createElement("article",{className:"media"},n.a.createElement("div",{className:"media-content"},n.a.createElement("div",{className:"content"},n.a.createElement("h1",{className:"title"},n.a.createElement(m.b,{className:"thinner",to:"/"+this.props.repo.owner.login},this.props.repo.owner.login)," ","/ ",this.props.repo.name),n.a.createElement("p",null,this.props.repo.description)),n.a.createElement("nav",{className:"level"},n.a.createElement("div",{className:"level-item has-text-centered"},n.a.createElement("span",{className:"level-item tag",style:this.tagStyle},this.props.repo.language||"Other")),n.a.createElement("div",{className:"level-item has-text-centered"},n.a.createElement("p",null,n.a.createElement("span",{className:"icon lowered"},n.a.createElement("i",{className:"fas fa-code-branch"})),this.props.repo.forks_count,"\xa0Forks")),n.a.createElement("div",{className:"level-item has-text-centered"},n.a.createElement("p",null,n.a.createElement("span",{className:"icon lowered"},n.a.createElement("i",{className:"fas fa-balance-scale"})),"\xa0",(null===(e=this.props.repo.license)||void 0===e?void 0:e.name)||"Other")),n.a.createElement("div",{className:"level-item has-text-centered"},n.a.createElement("p",null,n.a.createElement("span",{className:"icon lowered"},n.a.createElement("i",{className:"fas fa-eye"})),this.props.repo.subscribers_count,"\xa0Subscribers")),n.a.createElement("div",{className:"level-item has-text-centered"},n.a.createElement(Z,{clone_url:this.props.repo.clone_url,ssh_url:this.props.repo.ssh_url}))),n.a.createElement("hr",null),this.props.repo.readme&&n.a.createElement(z.a,{renderers:{code:X},escapeHtml:!1,className:"content",source:(a=this.props.repo.readme,decodeURIComponent(atob(a).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")))})))))}}]),a}(n.a.Component),ae={fetch:function(e,a){return I(e,a)}},te=Object(s.compose)(p.g,Object(o.b)((function(e){return{repo:e.repository.data}}),ae))(ee),re=t(87),ne=Object(o.b)((function(e){return{errors:{user:e.user.error,repositories:e.repositories.error,repository:e.repository.error}}}))((function(e){for(var a=[],t=0,r=Object.entries(e.errors);t<r.length;t++){var l=r[t],c=Object(re.a)(l,2),o=c[0],s=c[1];if(s){var i=void 0;i=404===s.status?"".concat(o.replace(/^\w/,(function(e){return e.toUpperCase()}))," not found."):"Error while fetching ".concat(o,"."),a.push(n.a.createElement("div",{className:"notification is-danger",key:o},i))}}return a.map((function(e){return e}))})),le=(t(415),function(){return n.a.createElement("div",{className:"lds-ellipsis"},n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null))}),ce=Object(o.b)((function(e){return{loading:{user:e.user.loading,repositories:e.repositories.loading,repository:e.repository.loading}}}))((function(e){return(e.loading.user||e.loading.repositories||e.loading.repository)&&n.a.createElement("div",{style:{textAlign:"center"}},n.a.createElement(le,null))})),oe=function(){return n.a.createElement(r.Fragment,null,n.a.createElement(W,null),n.a.createElement("div",{className:"App container"},n.a.createElement(m.a,null,n.a.createElement(P,null),n.a.createElement(ne,null),n.a.createElement(p.d,null,n.a.createElement(p.b,{path:"/:githubLogin/:repoName",render:function(e){return n.a.createElement(te,Object.assign({key:e.match.params.githubLogin+"/"+e.match.params.repoName},e))}}),n.a.createElement(p.b,{path:"/:githubLogin",render:function(e){return n.a.createElement(J,Object.assign({key:e.match.params.githubLogin},e))}}))),n.a.createElement(ce,null)),n.a.createElement(B,null))},se=t(2),ie={user:{data:null,loading:!1,error:null},repositories:{data:null,loading:!1,error:null},repository:{data:null,loading:!1,error:null}},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"[STORE] Clear":return ie;case"[USER] Fetch Data":return Object(se.a)({},e,{user:Object(se.a)({},e.user,{data:a.payload,loading:!1,error:null})});case"[REPOSITORIES] Fetch Repositories":return Object(se.a)({},e,{repositories:Object(se.a)({},e.repositories,{data:a.payload,loading:!1,error:null})});case"[REPOSITORY] Fetch Repository":return Object(se.a)({},e,{repository:Object(se.a)({},e.repository,{data:a.payload,loading:!1,error:null})});case"[USER] Load Data":return Object(se.a)({},e,{user:Object(se.a)({},e.user,{loading:!0})});case"[REPOSITORIES] Load Data":return Object(se.a)({},e,{repositories:Object(se.a)({},e.repositories,{loading:!0})});case"[REPOSITORY] Load Data":return Object(se.a)({},e,{repository:Object(se.a)({},e.repository,{loading:!0})});case"[USER] Fetch User Data Error":return Object(se.a)({},e,{user:Object(se.a)({},e.user,{loading:!1,error:a.payload})});case"[REPOSITORIES] Fetch Repositories Error":return Object(se.a)({},e,{repositories:Object(se.a)({},e.repositories,{loading:!1,error:a.payload})});case"[REPOSITORY] Fetch Repository Error":return Object(se.a)({},e,{repository:Object(se.a)({},e.repository,{loading:!1,error:a.payload})});default:return e}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(416);var me=Object(s.createStore)(ue,Object(u.composeWithDevTools)(Object(s.applyMiddleware)(i.a)));c.a.render(n.a.createElement(o.a,{store:me},n.a.createElement(oe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},88:function(e,a,t){e.exports=t(417)}},[[88,1,2]]]);
//# sourceMappingURL=main.bc443581.chunk.js.map